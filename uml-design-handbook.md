[TOC]

## 软件建模过程梳理

### 总览

本篇整理了如何通过UML的设计规范来进行软件构建的过程和注意点，需要的基础知识如下

- 软件设计和体系结构概念
- UML表示法概述

软件建模过程分为三个阶段：需求建模/分析建模/设计建模

### 建模过程

#### 需求建模

需求可分为**功能性需求**和**非功能性需求**，举例说明：希望增加产品导出是功能性需求，希望这个功能的响应时间是2秒则是非功能性需求。

需求建模的过程：需求分析->需求规约->用例

在将系统需求转化之前，

需求分析的第一步，从参与者和系统的关系入手。

关于参与者的概念，你需要了解：

- 参与者是代表在**系统之外**和系统**交互**的**某人或者某物**，是从一类人或者事物上抽象泛化出的概念。

- 参与者从**干系人**（涉众）中筛选出来，不同的是，干系人与系统利益相关，同时也包括不直接参与系统操作的一类人。比如运营分析人员，从系统导出业务报表，整合给老板看。老板和运营都是干系人，同时运营也是参与者。
- 角色则是将参与者的**一些职责/能力**进行整合之后抽象，进行命名得出的**抽象概念**。
- 用户是参与者的实例，是参与者的实际代表。
- 用户可以实际获得某些角色。
- 执行某一项业务时，在业务之内参与业务的参与者，我们称为**业务工人**，在业务之内，主导业务的参与者，我们称为**业务主角**。业务主角是确认业务范围的重要工具。*业务范围大于系统范围，系统范围是指通过软件实现的业务功能，而业务范围包含了所有的客户业务，拿柜台存款业务举例，系统范围可能包括，电脑提供的存款/核对等服务，在这个例子下，办理业务的，是业务主角，柜员则是业务工人。*

**TODO** 

如何确定边界：边界既是**分析工具**也是**设计工具**

边界就是**范围**，站在不同的抽象层次上对需求进行业务分析，可以有效降低复杂度。

##### 用例建模 （用例图/活动图）

用例建模的表示法有下面三个：

用例的组成概念：用例-前置条件-用例场景-后置条件

**用例**表示**参与者**与**系统交互**的**可观测**的一系列**活动**

**用例场景**是用例的**实例**，表示用例的不同情况

用例的特点：

- 相对独立。它的粒度是大的，能独立满足参与者意愿的，功能完备的。
- 可观测，有意义。（后台进程对于业务参与者，输入密码对于参与者，前者是参与者不可观测，也没有意义，后者是没有完整意义）
- 必须有参与者发起。
- 用例的内容是动宾短语
- 用例是接下来分析工作的单元

用例的粒度：？

用例的获取：访问整理需求

用例图、活动图、文档化用例

#### 分析建模

问题域



##### 静态建模（结构视图/类图）

类图的组成

- 业务实体（class）

  业务实体从用例中来，业务实体代表角色执行业务用例时所处理或使用的”事物“。业务实体是在参与完成任务目标的过程中被创建出来。

  根据上面的定义，当创建业务实体的时候，我们需要把抽象视角缩短到用例的各个场景下，列举出参与这个场景的名词实体，去除没有直接价值的实体，剩下的就是基础的业务实体列表，接下来，确定实体之间的的关联，属性。不用担心在一个关于业务实体的属性和关联关系分析的不完整，只需要确定当前抽象层次下，这三个内容完备即可。

- 包

  包用来分类整理元素，包内元素紧密关联，同时又具有相同的元素，使得包可以整理出接口代表包内元素和包外元素交互，是为高内聚。

  包内的元素修改变更，不会影响其他包的变更，是为低耦合。

  包之间的关系是单向依赖。

- **分析类**

  分析类是需求走向计算机实现的第一步。

  分析类用于产生系统的设计类和子系统。

  分析类的组成：

  - 边界类   

    边界类是对象之间交互的建模，可以是任意的实现：程序、服务器、一组API。边界类介于系统和主角之间。对于系统的输入，边界类对象是主角的代理；对于系统的输出，他是系统的代理。

  - 控制类

    控制类来源于**用例场景**中对象之间的动作进行的建模。

    控制类起到**协调对象**的作用。

  - 实体类

    实体类来源于业务实体，多数时候是业务实体的直接转化，后续可能会对业务实体继续进行拆分。实体类主要处于数据数据持久层。

- 

类图的编写规则  

关联: -- 使用

组合: *-- 强归属关系

聚合: o-- 弱归属关系

继承: --|> 继承关系

##### 对象建模  (对象图)　

##### 动态交互建模 (通信图、顺序图、有/无状态图,活动图)

##### 状态机建模（状态图）

#### 设计建模

在描述完软件的问题域之后，就是解域的描述

就是设计软件体系结构

根据不同的系统特性分了很多体系结构。

##### 面向对象

##### 客户端/服务端

##### 面向服务

##### 基于组件

##### 并发、实时系统

##### 软件产品线

#### 总结

#### 




